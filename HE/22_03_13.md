# Hello World!

VScode Live server로 혹은 nodeJS 에서 `node main.js`를 실행해도 `console.log('Hello World!')`동일하게 작동한다.

NodeJS와 Web APIs 모두 console에 관련된 api가 있고, api들의 인터페이스가 둘다 동일함.

> API(Application Programming Interface)

console API는 Web APIs 중에 하나이다.

❗️ Web APIs는 자바스크립트 언어 자체에 에 포함된 게 아니라 브라우저가 이해할 수 있는 함수들

자바스크립트 공식사이트는 ecma-international.org 이지만 개발자들이 보기에는 조금 난해함.

많은 개발자들이 참고하는 사이트는
모질라 MDN

### HTML에서 JavaScript를 포함할 때 어떻게 하는게 효율적일까?

브라우저에서 html소스를 파싱 ->
script태그를 만나게 되면 js파일을 다운받기 위해 파싱을 잠시 멈춤 ->
필요한 JS파일을 서버에서 다운로드 받음.

1.  스크립트 파일을 `<head>`에 포함한다.

    - 그런데 만약 이 js파일이 사이즈가 크고 인터넷이 느리다면 사용자가 웹사이트를 보는데 까지 많은 시간이 걸리게 됨.

2.  `<body>`의 마지막부분에 스크립트 파일을 포함한다.
    (브라우저가 html을 모두 파싱하고 페이지가 준비된 후에 스크립트를 받아온다.)

    - 이 방법은 사용자가 기본적인 html의 컨텐츠를 빨리 볼 수있는 장점은 있지만, 만약 이 페이지가 자바스크립트의 굉장히 의존한다면(서버에서 데이터를 받아오거나, DOM요소를 더 예쁘게 꾸미는 등) 사용자가 정상적인 페이지를 보기 전까지는 시간이 많이 걸릴 수 있음.

3.  스크립트 파일을 `<head>`에 포함하되 `async`라는 속성값을 이옹한다.(`async`는 boolean값이기 때문에 키워드만 적어도 true값으로 인식함.)

```html
<head>
  <script async src="main.js"></script>
</head>
```

이렇게 되면,

    브라우저가 파싱시작 ->
    async 속성을 통해 병렬로 js파일을 다운 받도록 명령 후 계속 파싱을 진행 ->
    js파일 다운이 모두 완료되면 그때 파싱을 멈추고 다운된 js파일을 실행 ->
    실행을 마친 후 나머지 html을 파싱

- 이 방법의 장단점?

  - 장점:

    - 두번째 방법보다 js파일 fetching이 병렬적으로 일어나기 때문에 다운 시간을 절약 가능

  - 단점:

    - js파일이 html이 모두 파싱되기 전에 실행되기 때문에 만약 js파일에서 querySelector를 통해 DOM요소를 조작할 경우 그 시점에 조작을 할 html의 요소가 아직 정의되지 않았을 수 있음.

    - html 파싱하는 동안 언제든지 js파일 다운이 완료될 경우 파싱을 멈추기 때문에 여전히 사용자가 페이지를 보는데 시간이 걸릴 수 있음.

4.  스크립트 파일을 `<head>`에 포함하되 `defer`라는 속성값을 이옹한다.

```html
<head>
  <script defer src="main.js"></script>
</head>
```

- 파싱을 하다가 defer속성을 만나면 js파일을 다운 받도록 명령하고 html파싱을 끝까지 진행한다. 파싱이 모두 완료되면 다운된 js파일을 실행한다.

defer이 가장 효율적이고 안전한 옵션

### ✋

만약, `async` 속성을 사용해 다수의 js파일을 포함할 경우, 정의한 순서와 상관없이 먼저 다운로드가 완료된 js파일이 먼저 실행됨. js파일의 실행순서를 보장 받지 못함.

반대로 `defer`같은 경우에는 파싱하는 동안 필요한 js파일을 모두 다운 받고 정의한 순서대로 실행한다.

### use strict

자바 스크립트를 사용할 때는 파일 가장 상단에

```js
"use strict"
```

라고 작성하는 것이 좋다.

- 이유?

  자바스크립트는 굉장히 짧은 시간내에 만들어졌기 때문에 유연한 언어이다.
  유연하다는 것은 때로는 위험할 수 도 있음을 의미.

  JS에서는 선언되지 않은 변수에 값을 할당, 기존에 존재하는 프로토타입을 변경하는 등 비상식적인 일이 가능하다.

  `use strict`를 사용하게 되면 에러가 발생시켜 실수를 방지할 수 있다.
  또한 strict 모드에서는 JS엔진이 더 효율적이고 빠르게 분석하기 때문에 실행에서 성능 개선을 기대할 수 도 있다.
